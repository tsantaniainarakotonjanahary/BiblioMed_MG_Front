import{j as e,L as N,o as s,r as o,b9 as x,B as q,U as R,D as W,t as E,v as g,bn as M,bo as A,h as B,bp as u,aM as V,a4 as H,a5 as S,a9 as b,K as U}from"./index.e711043e.js";import{Y as J,Z as D,A as C,i as P,E as O,f as Q,$ as K,T as Y,a0 as Z,a1 as G,a2 as X,a3 as _,D as ee,a4 as ae,a as te,a5 as ne}from"./App.c3ad3f0b.js";import{R as se}from"./react-paginate.c16a72a1.js";import{Q as le}from"./react-dataTable-component.9df9bb3b.js";/* empty css                     */import"./emotion-memoize.esm.06f0e458.js";const v={Sent:{color:"light-secondary",icon:P},Paid:{color:"light-success",icon:G},Draft:{color:"light-primary",icon:X},Downloaded:{color:"light-info",icon:_},"Past Due":{color:"light-danger",icon:ee},"Partial Payment":{color:"light-warning",icon:ae}},ie=a=>{const n=Math.floor(Math.random()*6),l=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"],h=l[n];return a.avatar.length?e(C,{className:"me-50",img:a.avatar,width:"32",height:"32"}):e(C,{color:h,className:"me-50",content:a.client?a.client.name:"John Doe",initials:!0})},re=[{name:"#",sortable:!0,sortField:"id",minWidth:"107px",cell:a=>e(N,{to:`/apps/invoice/preview/${a.id}`,children:`#${a.id}`})},{sortable:!0,minWidth:"102px",sortField:"invoiceStatus",name:e(J,{size:14}),cell:a=>{const n=v[a.invoiceStatus]?v[a.invoiceStatus].color:"primary",l=v[a.invoiceStatus]?v[a.invoiceStatus].icon:D;return s(o.exports.Fragment,{children:[e(C,{color:n,icon:e(l,{size:14}),id:`av-tooltip-${a.id}`}),s(x,{placement:"top",target:`av-tooltip-${a.id}`,children:[e("span",{className:"fw-bold",children:a.invoiceStatus}),e("br",{}),e("span",{className:"fw-bold",children:"Balance:"})," ",a.balance,e("br",{}),e("span",{className:"fw-bold",children:"Due Date:"})," ",a.dueDate]})]})}},{name:"Client",sortable:!0,minWidth:"350px",sortField:"client.name",cell:a=>{const n=a.client?a.client.name:"John Doe",l=a.client?a.client.companyEmail:"johnDoe@email.com";return s("div",{className:"d-flex justify-content-left align-items-center",children:[ie(a),s("div",{className:"d-flex flex-column",children:[e("h6",{className:"user-name text-truncate mb-0",children:n}),e("small",{className:"text-truncate text-muted mb-0",children:l})]})]})}},{name:"Total",sortable:!0,minWidth:"150px",sortField:"total",cell:a=>s("span",{children:["$",a.total||0]})},{sortable:!0,minWidth:"200px",name:"Issued Date",sortField:"dueDate",cell:a=>a.dueDate},{sortable:!0,name:"Balance",minWidth:"164px",sortField:"balance",cell:a=>a.balance!==0?e("span",{children:a.balance}):e(q,{color:"light-success",pill:!0,children:"Paid"})},{name:"Action",minWidth:"110px",cell:a=>s("div",{className:"column-action d-flex align-items-center",children:[e(P,{className:"cursor-pointer",size:17,id:`send-tooltip-${a.id}`}),e(x,{placement:"top",target:`send-tooltip-${a.id}`,children:"Send Mail"}),e(N,{to:`/apps/invoice/preview/${a.id}`,id:`pw-tooltip-${a.id}`,children:e(O,{size:17,className:"mx-1"})}),e(x,{placement:"top",target:`pw-tooltip-${a.id}`,children:"Preview Invoice"}),s(R,{children:[e(W,{tag:"span",children:e(Q,{size:17,className:"cursor-pointer"})}),s(E,{end:!0,children:[s(g,{tag:"a",href:"/",className:"w-100",onClick:n=>n.preventDefault(),children:[e(K,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Download"})]}),s(g,{tag:N,to:`/apps/invoice/edit/${a.id}`,className:"w-100",children:[e(D,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Edit"})]}),s(g,{tag:"a",href:"/",className:"w-100",onClick:n=>{n.preventDefault(),M.dispatch(A(a.id))},children:[e(Y,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Delete"})]}),s(g,{tag:"a",href:"/",className:"w-100",onClick:n=>n.preventDefault(),children:[e(Z,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Duplicate"})]})]})]})]})}],oe=({handleFilter:a,value:n,handleStatusValue:l,statusValue:h,handlePerPage:c,rowsPerPage:f})=>e("div",{className:"invoice-list-table-header w-100 py-2",children:s(H,{children:[s(S,{lg:"6",className:"d-flex align-items-center px-0 px-lg-1",children:[s("div",{className:"d-flex align-items-center me-2",children:[e("label",{htmlFor:"rows-per-page",children:"Show"}),s(b,{type:"select",id:"rows-per-page",value:f,onChange:c,className:"form-control ms-50 pe-3",children:[e("option",{value:"10",children:"10"}),e("option",{value:"25",children:"25"}),e("option",{value:"50",children:"50"})]})]}),e(U,{tag:N,to:"/apps/invoice/add",color:"primary",children:"Add Record"})]}),s(S,{lg:"6",className:"actions-right d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap mt-lg-0 mt-1 pe-lg-1 p-0",children:[s("div",{className:"d-flex align-items-center",children:[e("label",{htmlFor:"search-invoice",children:"Search"}),e(b,{id:"search-invoice",className:"ms-50 me-2 w-100",type:"text",value:n,onChange:d=>a(d.target.value),placeholder:"Search Invoice"})]}),s(b,{className:"w-auto ",type:"select",value:h,onChange:l,children:[e("option",{value:"",children:"Select Status"}),e("option",{value:"downloaded",children:"Downloaded"}),e("option",{value:"draft",children:"Draft"}),e("option",{value:"paid",children:"Paid"}),e("option",{value:"partial payment",children:"Partial Payment"}),e("option",{value:"past due",children:"Past Due"}),e("option",{value:"sent",children:"Sent"})]})]})]})}),Ne=()=>{const a=te(),n=B(t=>t.invoice),[l,h]=o.exports.useState(""),[c,f]=o.exports.useState("desc"),[d,y]=o.exports.useState("id"),[i,k]=o.exports.useState(1),[p,w]=o.exports.useState(""),[r,$]=o.exports.useState(10);o.exports.useEffect(()=>{a(u({sort:c,q:l,sortColumn:d,page:i,perPage:r,status:p}))},[a,n.data.length]);const F=t=>{h(t),a(u({sort:c,q:t,sortColumn:d,page:i,perPage:r,status:p}))},I=t=>{a(u({sort:c,q:l,sortColumn:d,page:i,status:p,perPage:parseInt(t.target.value)})),$(parseInt(t.target.value))},T=t=>{w(t.target.value),a(u({sort:c,q:l,sortColumn:d,page:i,perPage:r,status:t.target.value}))},L=t=>{a(u({sort:c,q:l,sortColumn:d,status:p,perPage:r,page:t.selected+1})),k(t.selected+1)},j=()=>{const t=Number((n.total/r).toFixed(0));return e(se,{nextLabel:"",breakLabel:"...",previousLabel:"",pageCount:t||1,activeClassName:"active",breakClassName:"page-item",pageClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",pageLinkClassName:"page-link",nextClassName:"page-item next",previousLinkClassName:"page-link",previousClassName:"page-item prev",onPageChange:m=>L(m),forcePage:i!==0?i-1:0,containerClassName:"pagination react-paginate justify-content-end p-1"})};return e("div",{className:"invoice-list-wrapper",children:e(V,{children:e("div",{className:"invoice-list-dataTable react-dataTable",children:e(le,{noHeader:!0,pagination:!0,sortServer:!0,paginationServer:!0,subHeader:!0,columns:re,responsive:!0,onSort:(t,m)=>{f(m),y(t.sortField),a(u({q:l,page:i,sort:m,status:p,perPage:r,sortColumn:t.sortField}))},data:(()=>{const t={q:l,status:p},m=Object.keys(t).some(function(z){return t[z].length>0});return n.data.length>0?n.data:n.data.length===0&&m?[]:n.allData.slice(0,r)})(),sortIcon:e(ne,{}),className:"react-dataTable",defaultSortField:"invoiceId",paginationDefaultPage:i,paginationComponent:j,subHeaderComponent:e(oe,{value:l,statusValue:p,rowsPerPage:r,handleFilter:F,handlePerPage:I,handleStatusValue:T})})})})})};export{Ne as default};
