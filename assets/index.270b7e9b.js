import{r as u,j as e,o as l,a7 as re,a8 as p,a9 as N,b2 as ie,k as ce,K as j,bI as oe,L as O,bn as z,bJ as B,B as me,U as V,D as H,t as K,v as y,bK as de,h as ue,bL as he,bM as C,aM as L,aO as pe,a6 as ve,aN as be,a4 as I,a5 as f}from"./index.e711043e.js";import{S as ge}from"./index.4cf46add.js";import{a as W,t as A,f as Ne,ao as J,ap as fe,L as xe,A as q,z as $,U as G,aq as Ce,ar as ye,as as Se,a5 as Pe,at as we,au as Ue,a9 as ke,av as Te,a0 as De,aw as Fe,ax as Ae,ay as Ee}from"./App.c3ad3f0b.js";import{S as E}from"./react-select.esm.529fceb3.js";import{u as ze,C as k}from"./index.esm.d825ec9d.js";import{R as je}from"./react-paginate.c16a72a1.js";import{Q as Ie}from"./react-dataTable-component.9df9bb3b.js";import{S as F}from"./StatsHorizontal.da6b5249.js";/* empty css                  */import"./emotion-memoize.esm.06f0e458.js";const M={email:"",contact:"",company:"",fullName:"",username:"",country:null},Re=[{label:"Australia",value:"Australia"},{label:"Bangladesh",value:"Bangladesh"},{label:"Belarus",value:"Belarus"},{label:"Brazil",value:"Brazil"},{label:"Canada",value:"Canada"},{label:"China",value:"China"},{label:"France",value:"France"},{label:"Germany",value:"Germany"},{label:"India",value:"India"},{label:"Indonesia",value:"Indonesia"},{label:"Israel",value:"Israel"},{label:"Italy",value:"Italy"},{label:"Japan",value:"Japan"},{label:"Korea",value:"Korea"},{label:"Mexico",value:"Mexico"},{label:"Philippines",value:"Philippines"},{label:"Russia",value:"Russia"},{label:"South",value:"South"},{label:"Thailand",value:"Thailand"},{label:"Turkey",value:"Turkey"},{label:"Ukraine",value:"Ukraine"},{label:"United Arab Emirates",value:"United Arab Emirates"},{label:"United Kingdom",value:"United Kingdom"},{label:"United States",value:"United States"}],Oe=a=>Object.values(a).every(t=>typeof t=="object"?t!==null:t.length>0),Be=({open:a,toggleSidebar:t})=>{const[o,T]=u.exports.useState(null),[d,P]=u.exports.useState("basic"),[m,w]=u.exports.useState("subscriber"),c=W(),{control:i,setValue:r,setError:v,handleSubmit:S,formState:{errors:b}}=ze({defaultValues:M});return e(ge,{size:"lg",open:a,title:"New User",headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:t,onClosed:()=>{for(const s in M)r(s,"");w("subscriber"),P("basic")},children:l(re,{onSubmit:S(s=>{if(T(s),Oe(s))t(),c(oe({role:m,avatar:"",status:"active",email:s.email,currentPlan:d,billing:"auto debit",company:s.company,contact:s.contact,fullName:s.fullName,username:s.username,country:s.country.value}));else for(const U in s)s[U]===null&&v("country",{type:"manual"}),s[U]!==null&&s[U].length===0&&v(U,{type:"manual"})}),children:[l("div",{className:"mb-1",children:[l(p,{className:"form-label",for:"fullName",children:["Full Name ",e("span",{className:"text-danger",children:"*"})]}),e(k,{name:"fullName",control:i,render:({field:s})=>e(N,{id:"fullName",placeholder:"John Doe",invalid:b.fullName&&!0,...s})})]}),l("div",{className:"mb-1",children:[l(p,{className:"form-label",for:"username",children:["Username ",e("span",{className:"text-danger",children:"*"})]}),e(k,{name:"username",control:i,render:({field:s})=>e(N,{id:"username",placeholder:"johnDoe99",invalid:b.username&&!0,...s})})]}),l("div",{className:"mb-1",children:[l(p,{className:"form-label",for:"userEmail",children:["Email ",e("span",{className:"text-danger",children:"*"})]}),e(k,{name:"email",control:i,render:({field:s})=>e(N,{type:"email",id:"userEmail",placeholder:"john.doe@example.com",invalid:b.email&&!0,...s})}),e(ie,{color:"muted",children:"You can use letters, numbers & periods"})]}),l("div",{className:"mb-1",children:[l(p,{className:"form-label",for:"contact",children:["Contact ",e("span",{className:"text-danger",children:"*"})]}),e(k,{name:"contact",control:i,render:({field:s})=>e(N,{id:"contact",placeholder:"(397) 294-5153",invalid:b.contact&&!0,...s})})]}),l("div",{className:"mb-1",children:[l(p,{className:"form-label",for:"company",children:["Company ",e("span",{className:"text-danger",children:"*"})]}),e(k,{name:"company",control:i,render:({field:s})=>e(N,{id:"company",placeholder:"Company Pvt Ltd",invalid:b.company&&!0,...s})})]}),l("div",{className:"mb-1",children:[l(p,{className:"form-label",for:"country",children:["Country ",e("span",{className:"text-danger",children:"*"})]}),e(k,{name:"country",control:i,render:({field:s})=>e(E,{isClearable:!1,classNamePrefix:"select",options:Re,theme:A,className:ce("react-select",{"is-invalid":o!==null&&o.country===null}),...s})})]}),l("div",{className:"mb-1",children:[e(p,{className:"form-label",for:"user-role",children:"User Role"}),l(N,{type:"select",id:"user-role",name:"user-role",value:m,onChange:s=>w(s.target.value),children:[e("option",{value:"subscriber",children:"Subscriber"}),e("option",{value:"editor",children:"Editor"}),e("option",{value:"maintainer",children:"Maintainer"}),e("option",{value:"author",children:"Author"}),e("option",{value:"admin",children:"Admin"})]})]}),l("div",{className:"mb-1",value:d,onChange:s=>P(s.target.value),children:[e(p,{className:"form-label",for:"select-plan",children:"Select Plan"}),l(N,{type:"select",id:"select-plan",name:"select-plan",children:[e("option",{value:"basic",children:"Basic"}),e("option",{value:"enterprise",children:"Enterprise"}),e("option",{value:"company",children:"Company"}),e("option",{value:"team",children:"Team"})]})]}),e(j,{type:"submit",className:"me-1",color:"primary",children:"Submit"}),e(j,{type:"reset",color:"secondary",outline:!0,onClick:t,children:"Cancel"})]})})},Le=a=>a.avatar.length?e(q,{className:"me-1",img:a.avatar,width:"32",height:"32"}):e(q,{initials:!0,className:"me-1",color:a.avatarColor||"light-primary",content:a.fullName||"John Doe"}),qe=a=>{const t={subscriber:{class:"text-primary",icon:G},maintainer:{class:"text-success",icon:Ce},editor:{class:"text-info",icon:$},author:{class:"text-warning",icon:ye},admin:{class:"text-danger",icon:Se}},o=t[a.role]?t[a.role].icon:$;return l("span",{className:"text-truncate text-capitalize align-middle",children:[e(o,{size:18,className:`${t[a.role]?t[a.role].class:""} me-50`}),a.role]})},$e={pending:"light-warning",active:"light-success",inactive:"light-secondary"},Me=[{name:"User",sortable:!0,minWidth:"300px",sortField:"fullName",selector:a=>a.fullName,cell:a=>l("div",{className:"d-flex justify-content-left align-items-center",children:[Le(a),l("div",{className:"d-flex flex-column",children:[e(O,{to:`/apps/user/view/${a.id}`,className:"user_name text-truncate text-body",onClick:()=>z.dispatch(B(a.id)),children:e("span",{className:"fw-bolder",children:a.fullName})}),e("small",{className:"text-truncate text-muted mb-0",children:a.email})]})]})},{name:"Role",sortable:!0,minWidth:"172px",sortField:"role",selector:a=>a.role,cell:a=>qe(a)},{name:"Plan",minWidth:"138px",sortable:!0,sortField:"currentPlan",selector:a=>a.currentPlan,cell:a=>e("span",{className:"text-capitalize",children:a.currentPlan})},{name:"Billing",minWidth:"230px",sortable:!0,sortField:"billing",selector:a=>a.billing,cell:a=>e("span",{className:"text-capitalize",children:a.billing})},{name:"Status",minWidth:"138px",sortable:!0,sortField:"status",selector:a=>a.status,cell:a=>e(me,{className:"text-capitalize",color:$e[a.status],pill:!0,children:a.status})},{name:"Actions",minWidth:"100px",cell:a=>e("div",{className:"column-action",children:l(V,{children:[e(H,{tag:"div",className:"btn btn-sm",children:e(Ne,{size:14,className:"cursor-pointer"})}),l(K,{children:[l(y,{tag:O,className:"w-100",to:`/apps/user/view/${a.id}`,onClick:()=>z.dispatch(B(a.id)),children:[e(J,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Details"})]}),l(y,{tag:"a",href:"/",className:"w-100",onClick:t=>t.preventDefault(),children:[e(fe,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Edit"})]}),l(y,{tag:"a",href:"/",className:"w-100",onClick:t=>{t.preventDefault(),z.dispatch(de(a.id))},children:[e(xe,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Delete"})]})]})]})})}],Ve=({store:a,toggleSidebar:t,handlePerPage:o,rowsPerPage:T,handleFilter:d,searchTerm:P})=>{function m(c){let i;const r=",",v=`
`,S=Object.keys(a.data[0]);return i="",i+=S.join(r),i+=v,c.forEach(b=>{let h=0;S.forEach(D=>{h>0&&(i+=r),i+=b[D],h++}),i+=v}),i}function w(c){const i=document.createElement("a");let r=m(c);if(r===null)return;const v="export.csv";r.match(/^data:text\/csv/i)||(r=`data:text/csv;charset=utf-8,${r}`),i.setAttribute("href",encodeURI(r)),i.setAttribute("download",v),i.click()}return e("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:l(I,{children:[e(f,{xl:"6",className:"d-flex align-items-center p-0",children:l("div",{className:"d-flex align-items-center w-100",children:[e("label",{htmlFor:"rows-per-page",children:"Show"}),l(N,{className:"mx-50",type:"select",id:"rows-per-page",value:T,onChange:o,style:{width:"5rem"},children:[e("option",{value:"10",children:"10"}),e("option",{value:"25",children:"25"}),e("option",{value:"50",children:"50"})]}),e("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),l(f,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[l("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[e("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),e(N,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:P,onChange:c=>d(c.target.value)})]}),l("div",{className:"d-flex align-items-center table-header-actions",children:[l(V,{className:"me-1",children:[l(H,{color:"secondary",caret:!0,outline:!0,children:[e(we,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Export"})]}),l(K,{children:[l(y,{className:"w-100",children:[e(Ue,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Print"})]}),l(y,{className:"w-100",onClick:()=>w(a.data),children:[e(J,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"CSV"})]}),l(y,{className:"w-100",children:[e(ke,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Excel"})]}),l(y,{className:"w-100",children:[e(Te,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"PDF"})]}),l(y,{className:"w-100",children:[e(De,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Copy"})]})]})]}),e(j,{className:"add-new-user",color:"primary",onClick:t,children:"Add New User"})]})]})]})})},He=()=>{const a=W(),t=ue(n=>n.users),[o,T]=u.exports.useState("desc"),[d,P]=u.exports.useState(""),[m,w]=u.exports.useState(1),[c,i]=u.exports.useState("id"),[r,v]=u.exports.useState(10),[S,b]=u.exports.useState(!1),[h,D]=u.exports.useState({value:"",label:"Select Role"}),[s,U]=u.exports.useState({value:"",label:"Select Plan"}),[g,Q]=u.exports.useState({value:"",label:"Select Status",number:0}),R=()=>b(!S);u.exports.useEffect(()=>{a(he()),a(C({sort:o,sortColumn:c,q:d,page:m,perPage:r,role:h.value,status:g.value,currentPlan:s.value}))},[a,t.data.length,o,c,m]);const X=[{value:"",label:"Select Role"},{value:"admin",label:"Admin"},{value:"author",label:"Author"},{value:"editor",label:"Editor"},{value:"maintainer",label:"Maintainer"},{value:"subscriber",label:"Subscriber"}],Y=[{value:"",label:"Select Plan"},{value:"basic",label:"Basic"},{value:"company",label:"Company"},{value:"enterprise",label:"Enterprise"},{value:"team",label:"Team"}],_=[{value:"",label:"Select Status",number:0},{value:"pending",label:"Pending",number:1},{value:"active",label:"Active",number:2},{value:"inactive",label:"Inactive",number:3}],Z=n=>{a(C({sort:o,sortColumn:c,q:d,perPage:r,page:n.selected+1,role:h.value,status:g.value,currentPlan:s.value})),w(n.selected+1)},ee=n=>{const x=parseInt(n.currentTarget.value);a(C({sort:o,sortColumn:c,q:d,perPage:x,page:m,role:h.value,currentPlan:s.value,status:g.value})),v(x)},ae=n=>{P(n),a(C({sort:o,q:n,sortColumn:c,page:m,perPage:r,role:h.value,status:g.value,currentPlan:s.value}))},le=()=>{const n=Number(Math.ceil(t.total/r));return e(je,{previousLabel:"",nextLabel:"",pageCount:n||1,activeClassName:"active",forcePage:m!==0?m-1:0,onPageChange:x=>Z(x),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},se=()=>{const n={role:h.value,currentPlan:s.value,status:g.value,q:d},x=Object.keys(n).some(function(ne){return n[ne].length>0});return t.data.length>0?t.data:t.data.length===0&&x?[]:t.allData.slice(0,r)},te=(n,x)=>{T(x),i(n.sortField),a(C({sort:o,sortColumn:c,q:d,page:m,perPage:r,role:h.value,status:g.value,currentPlan:s.value}))};return l(u.exports.Fragment,{children:[l(L,{children:[e(pe,{children:e(ve,{tag:"h4",children:"Filters"})}),e(be,{children:l(I,{children:[l(f,{md:"4",children:[e(p,{for:"role-select",children:"Role"}),e(E,{isClearable:!1,value:h,options:X,className:"react-select",classNamePrefix:"select",theme:A,onChange:n=>{D(n),a(C({sort:o,sortColumn:c,q:d,role:n.value,page:m,perPage:r,status:g.value,currentPlan:s.value}))}})]}),l(f,{className:"my-md-0 my-1",md:"4",children:[e(p,{for:"plan-select",children:"Plan"}),e(E,{theme:A,isClearable:!1,className:"react-select",classNamePrefix:"select",options:Y,value:s,onChange:n=>{U(n),a(C({sort:o,sortColumn:c,q:d,page:m,perPage:r,role:h.value,currentPlan:n.value,status:g.value}))}})]}),l(f,{md:"4",children:[e(p,{for:"status-select",children:"Status"}),e(E,{theme:A,isClearable:!1,className:"react-select",classNamePrefix:"select",options:_,value:g,onChange:n=>{Q(n),a(C({sort:o,sortColumn:c,q:d,page:m,status:n.value,perPage:r,role:h.value,currentPlan:s.value}))}})]})]})})]}),e(L,{className:"overflow-hidden",children:e("div",{className:"react-dataTable",children:e(Ie,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:Me,onSort:te,sortIcon:e(Pe,{}),className:"react-dataTable",paginationComponent:le,data:se(),subHeaderComponent:e(Ve,{store:t,searchTerm:d,rowsPerPage:r,handleFilter:ae,handlePerPage:ee,toggleSidebar:R})})})}),e(Be,{open:S,toggleSidebar:R})]})},aa=()=>l("div",{className:"app-user-list",children:[l(I,{children:[e(f,{lg:"3",sm:"6",children:e(F,{color:"primary",statTitle:"Total Users",icon:e(G,{size:20}),renderStats:e("h3",{className:"fw-bolder mb-75",children:"21,459"})})}),e(f,{lg:"3",sm:"6",children:e(F,{color:"danger",statTitle:"Paid Users",icon:e(Fe,{size:20}),renderStats:e("h3",{className:"fw-bolder mb-75",children:"4,567"})})}),e(f,{lg:"3",sm:"6",children:e(F,{color:"success",statTitle:"Active Users",icon:e(Ae,{size:20}),renderStats:e("h3",{className:"fw-bolder mb-75",children:"19,860"})})}),e(f,{lg:"3",sm:"6",children:e(F,{color:"warning",statTitle:"Pending Users",icon:e(Ee,{size:20}),renderStats:e("h3",{className:"fw-bolder mb-75",children:"237"})})})]}),e(He,{})]});export{aa as default};
